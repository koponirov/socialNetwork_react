(window["webpackJsonpreact-1st_project"]=window["webpackJsonpreact-1st_project"]||[]).push([[0],{12:function(e,t,a){e.exports={dialogs_container:"Dialogs_dialogs_container__A-Yw5",dialogs:"Dialogs_dialogs__1xLXb",dialogWith:"Dialogs_dialogWith__2481t",user__ava:"Dialogs_user__ava__1d7py",user__name:"Dialogs_user__name__3CgYZ",newMessages__indicator:"Dialogs_newMessages__indicator__2dXkL",messages__container:"Dialogs_messages__container__3Lwes",back__btn:"Dialogs_back__btn__vYiXj",messages__box:"Dialogs_messages__box__27mml",message__container:"Dialogs_message__container__frOJe",message__wrapper:"Dialogs_message__wrapper__2nAq1",message__user__name:"Dialogs_message__user__name__3eB4R",message__text:"Dialogs_message__text__1lAHs",message__add__time:"Dialogs_message__add__time__1Yo-w",message__form:"Dialogs_message__form__3CLos",message__field:"Dialogs_message__field__2OnzK",message__send__button:"Dialogs_message__send__button__aF8pP",preloder:"Dialogs_preloder__2YYqa"}},135:function(e,t,a){e.exports={news:"News_news__1T1ww"}},136:function(e,t,a){e.exports={music:"Music_music__19Luq"}},137:function(e,t,a){e.exports={settings:"Settings_settings__2ynFj"}},138:function(e,t,a){e.exports=a.p+"static/media/letter.2cf0bd6f.svg"},139:function(e,t,a){e.exports=a.p+"static/media/466.b5b1dbdf.svg"},14:function(e,t,a){e.exports={header:"Header_header__1etFM",container:"Header_container__1Oqyp",header__body:"Header_header__body__2UT7o",header__menu:"Header_header__menu__1WMv5",header__burger:"Header_header__burger__1BeK2",header__list:"Header_header__list__2rlgu",header__link:"Header_header__link__2w6uR",active:"Header_active__3Ko8N",header__auth:"Header_header__auth__hbZg5",header__auth__info:"Header_header__auth__info__6m0qU",header__auth__content:"Header_header__auth__content__2sdx8",header__auth__name:"Header_header__auth__name__3lOMv",header__auth__ava:"Header_header__auth__ava__2Idgu",header__auth__logout:"Header_header__auth__logout__2jUkw",header__auth__login:"Header_header__auth__login__ecDlA"}},140:function(e,t,a){e.exports={container:"Preloader_container__3mNA2"}},142:function(e,t){e.exports="data:image/png;base64,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"},145:function(e,t,a){e.exports={content:"Profile_content__1GOPs"}},146:function(e,t,a){e.exports={content:"MyPosts_content__1ICs_"}},147:function(e,t,a){e.exports=a.p+"static/media/arrow_back.b80b91b6.svg"},16:function(e,t,a){e.exports={preloader_container:"Users_preloader_container__1rJAO",users__container:"Users_users__container__2CiTj",list:"Users_list__1fOSU",listItem__container:"Users_listItem__container__UDoT8",listItem:"Users_listItem__1dnrz",content__container:"Users_content__container__JtbRs",content:"Users_content__Csu7n",status:"Users_status__3ITxy",ava:"Users_ava__2fyFf",noScroll:"Users_noScroll__3qiBx"}},176:function(e,t,a){e.exports=a(303)},259:function(e,t,a){},260:function(e,t,a){},27:function(e,t,a){e.exports={nav:"Navbar_nav__39oHf",item:"Navbar_item__1Op9x",activeLink:"Navbar_activeLink__2FCfS"}},303:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(9),o=a(4),c=a.n(o),i=a(13),A=a(19),u=a(32),l=a(130).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"ed6168aa-083c-4712-91d3-afe70566eba2"}}),p=function(e,t){return l.get("users?page=".concat(e,"&count=").concat(t))},m=function(){return l.get("auth/me").then((function(e){return e.data}))},_=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l.post("auth/login",{email:e,password:t,rememberMe:a,captcha:r})},f=function(){return l.delete("auth/login")},d=function(e){return l.get("profile/".concat(e)).then((function(e){return e.data}))},h=function(e){return l.get("profile/status/".concat(e)).then((function(e){return e.data}))},g=function(e){return l.put("profile/status",{status:e})},b=function(e){var t=new FormData;return t.append("image",e),l.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},E=function(e){return l.put("profile",e)},v={followToUser:function(e){return l.delete("follow/".concat(e))},unfollowToUser:function(e){return l.post("follow/".concat(e))}},O=function(){return l.get("security/get-captcha-url")},w=function(){return l.get("dialogs")},N=function(e){return l.put("dialogs/".concat(e))},j=function(e){return l.get("dialogs/".concat(e,"/messages"))},y=function(e,t){return l.post("dialogs/".concat(e,"/messages"),{body:t})},S=function(){return l.get("dialogs/messages/new/count")},P=a(31);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U="socialNetwork/profile/ADD_POST",x="socialNetwork/profile/DELETE_POST",T="socialNetwork/profile/SET_USER_PROFILE",D="socialNetwork/profile/SET_STATUS",M="socialNetwork/profile/SAVE_PHOTO_SUCCES",C={posts:[{userId:1,postText:"How r u?",likeCounter:1},{userId:2,postText:"Hi!",likeCounter:0},{userId:3,postText:"What?",likeCounter:5}],profile:null,lookingForAJob:!1,status:""},L=function(e){return{type:U,newPost:e}},R=function(e){return{type:T,profile:e}},H=function(e){return{type:D,status:e}},G=function(e){return{type:M,file:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return I({},e,{posts:[].concat(Object(A.a)(e.posts),[{userId:6,postText:t.newPost,likeCounter:0}])});case x:return I({},e,{posts:e.posts.filter((function(e){return e.userId!=t.id}))});case T:return I({},e,{profile:t.profile});case"socialNetwork/profile/LOOKING_FOR_JOB":return I({},e,{lookingForAJob:t.isLookingForAJob});case D:return I({},e,{status:t.status});case M:return I({},e,{profile:I({},e.profile,{photos:t.file})});default:return e}};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q={dialogs:[],messages:[],newMessagesCount:null,currentUser:null},K=function(e){return{type:"SET_MESSAGES",messages:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DIALOGS":return B({},e,{dialogs:Object(A.a)(t.dialogs)});case"SET_MESSAGES":return B({},e,{messages:Object(A.a)(t.messages)});case"SET_NEWMESSAGES_COUNT":return B({},e,{newMessagesCount:t.number});case"SET_CURRENT_USER":return B({},e,{currentUser:t.user});case"SEND_MESSAGE":return B({},e,{messages:[].concat(Object(A.a)(e.messages),Object(A.a)(t.message))});case"CREATE_DIALOG":return e.dialogs.length?B({},e,{dialogs:[].concat(Object(A.a)(e.dialogs),Object(A.a)(t.user))}):B({},e,{dialogs:Object(A.a)(t.user)});default:return e}};function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z="socialNetwork/users/FOLLOW",V="socialNetwork/users/UNFOLLOW",z="socialNetwork/users/SET_USERS",X="socialNetwork/users/SET_MORE_USERS",$="socialNetwork/users/SET_CURRENT_PAGE",ee="socialNetwork/users/SET_TOTAL_USERS",te="socialNetwork/users/TOGGLE_IS_LOADING",ae={users:[],pageSize:10,totalUsersCount:20,currentPage:1,followingInProgress:[2],isLoading:!1},re=function(e){return{type:Z,userId:e}},ne=function(e){return{type:V,userId:e}},se=function(e){return{type:z,users:e}},oe=function(e){return{type:$,pageNumber:e}},ce=function(e){return{type:ee,totalUsers:e}},ie=function(e){return{type:te,isLoading:e}},Ae=function(e,t){return{type:"socialNetwork/users/TOGGLE_IS_FOLLOWING_PROGRESS",inProgress:e,userId:t}},ue=function(){var e=Object(i.a)(c.a.mark((function e(t,a,r,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ae(!0,a)),e.next=3,r(a);case 3:0==e.sent.data.resultCode&&t(n(a)),t(Ae(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return q({},e,{users:e.users.map((function(e){return e.id===t.userId?q({},e,{followed:!0}):e}))});case V:return q({},e,{users:e.users.map((function(e){return e.id===t.userId?q({},e,{followed:!1}):e}))});case z:return q({},e,{users:Object(A.a)(t.users)});case X:return q({},e,{users:[].concat(Object(A.a)(e.users),Object(A.a)(t.usersss))});case $:return q({},e,{currentPage:t.pageNumber});case ee:return q({},e,{totalUsersCount:t.totalUsers});case te:return q({},e,{isLoading:t.isLoading});case"socialNetwork/users/TOGGLE_IS_FOLLOWING_PROGRESS":return q({},e,{followingInProgress:t.inProgress?[].concat(Object(A.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}};function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _e="socialNetwork/auth/SET_USER_DATA",fe="socialNetwork/auth/SHOW_USER_PHOTO",de="socialNetwork/auth/SET_CAPTCHA",he={id:null,email:null,login:null,isAuth:!1,photo:null,captcha:null},ge=function(e,t,a,r){return{type:_e,payload:{email:e,id:t,login:a,isAuth:r}}},be=function(e){return{type:de,payload:{captcha:e}}},Ee=function(e){return{type:fe,smallUserPhoto:e}},ve=function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a,r,n,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:0===(a=e.sent).resultCode&&(r=a.data,n=r.email,s=r.id,o=r.login,t(ge(n,s,o)),d(s).then((function(e){var a=e.photos.small;t(Ee(a))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,O();case 3:a=e.sent,r=a.data.url,t(be(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:case de:return me({},e,{},t.payload);case fe:return me({},e,{photo:t.smallUserPhoto,isAuth:!0});default:return e}},Ne=a(131),je=a(129);function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Pe={initialized:!1},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Se({},e,{initialized:!0});default:return e}},Ie=Object(s.c)({profilePage:F,dialogsPage:W,usersPage:le,auth:we,app:ke,form:je.a}),Ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,xe=Object(s.e)(Ie,Ue(Object(s.a)(Ne.a)));window.__store__=xe;var Te=xe,De=a(69),Me=a.n(De),Ce=(a(259),a(20)),Le=a(21),Re=a(24),He=a(22),Ge=a(23),Fe=(a(260),a(27),a(7)),Je=(a(135),a(136),a(137),a(45)),Be=a(12),Qe=a.n(Be),Ke=a(138),We=a.n(Ke),Ye=a(43),qe=a.n(Ye),Ze=function(e){var t="/dialogs/".concat(e.userId,"/messages");return n.a.createElement(Fe.b,{to:t,className:Qe.a.dialogWith},n.a.createElement("div",{className:Qe.a.user__ava},n.a.createElement("img",{src:e.photo?e.photo:qe.a})),n.a.createElement("div",{className:Qe.a.user__name},e.userName),n.a.createElement("div",{className:Qe.a.newMessages__indicator},e.newMessages?n.a.createElement("img",{src:We.a}):""))},Ve=a(139),ze=a.n(Ve),Xe=a(140),$e=a.n(Xe),et=function(){return n.a.createElement("div",{className:$e.a.container},n.a.createElement("img",{src:ze.a}))},tt=function(e){var t=e.dialogs.map((function(e){return n.a.createElement(Ze,{userName:e.userName,userId:e.id,photo:e.photos.small,newMessages:e.hasNewMessages})}));return n.a.createElement("div",{className:Qe.a.dialogs_container},t.length?n.a.createElement("div",{className:Qe.a.dialogs},n.a.createElement("div",null,t)):n.a.createElement("div",{className:Qe.a.preloder},n.a.createElement(et,null)))},at=a(11),rt=function(e){return{auth:e.auth.isAuth}},nt=function(e){var t=function(t){function a(){return Object(Ce.a)(this,a),Object(Re.a)(this,Object(He.a)(a).apply(this,arguments))}return Object(Ge.a)(a,t),Object(Le.a)(a,[{key:"render",value:function(){return this.props.auth?n.a.createElement(e,this.props):n.a.createElement(Je.a,{to:"/login"})}}]),a}(n.a.Component);return Object(at.b)(rt)(t)},st=function(e){function t(){return Object(Ce.a)(this,t),Object(Re.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Ge.a)(t,e),Object(Le.a)(t,[{key:"componentDidMount",value:function(){this.props.requestDialogs(),this.props.requestNewMessagesCount()}},{key:"render",value:function(){return n.a.createElement(tt,{dialogs:this.props.dialogs})}}]),t}(n.a.Component),ot=Object(s.d)(nt,Object(at.b)((function(e){return{dialogs:e.dialogsPage.dialogs,newMessageText:e.dialogsPage.newMessageText}}),{requestDialogs:function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:a=e.sent,t({type:"SET_DIALOGS",dialogs:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},requestNewMessagesCount:function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:a=e.sent,r=a.data,t({type:"SET_NEWMESSAGES_COUNT",number:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(st),ct=a(16),it=a.n(ct),At=a(38),ut=(a(74),a(141),a(142),function(e){return e.usersPage.users}),lt=function(e){return e.usersPage.pageSize},pt=function(e){return e.usersPage.totalUsersCount},mt=function(e){return e.usersPage.currentPage},_t=function(e){return e.usersPage.isLoading},ft=function(e){return e.usersPage.followingInProgress},dt=a(143),ht=a(144),gt=a(150),bt=function(e){var t=e.users,a=function(e){var a=e.index,r=e.style,s=t[a];return n.a.createElement(Fe.b,{to:"/profile/"+s.id},n.a.createElement("div",{className:it.a.listItem__container,style:r},n.a.createElement("div",{className:it.a.listItem},n.a.createElement("div",{className:it.a.ava},n.a.createElement("img",{src:s.photos.small?s.photos.small:qe.a})),n.a.createElement("div",{className:it.a.content__container},n.a.createElement("div",{className:it.a.content},s.name),n.a.createElement("div",{className:it.a.status},s.status)))))},r=function(){e.requestMoreUsers(e.currentPage,e.pageSize)},s=function(){return e.isLoading};return n.a.createElement("div",{className:it.a.list},n.a.createElement(dt.a,null,(function(e){var o=e.height,c=e.width;return n.a.createElement(ht.a,{isItemLoaded:s,loadMoreItems:r,itemCount:t.length,threshold:15},(function(e){var r=e.onItemsRendered,s=e.ref;return n.a.createElement(gt.a,{height:o,itemCount:t.length,itemSize:100,width:c,ref:s,onItemsRendered:r,className:it.a.window_list},a)}))})))},Et=function(e){function t(){return Object(Ce.a)(this,t),Object(Re.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Ge.a)(t,e),Object(Le.a)(t,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,10)}},{key:"componentWillUnmount",value:function(){this.props.setCurrentPage(1),this.props.setUsers([])}},{key:"render",value:function(){return n.a.createElement("div",{className:it.a.users__container},this.props.users.length>0?n.a.createElement(bt,{currentPage:this.props.currentPage,users:this.props.users,pageSize:this.props.pageSize,isLoading:this.props.isLoading,requestMoreUsers:this.props.requestMoreUsers}):n.a.createElement(et,null))}}]),t}(n.a.Component),vt=Object(s.d)(Object(at.b)((function(e){return{users:ut(e),pageSize:lt(e),totalUsersCount:pt(e),currentPage:mt(e),isLoading:_t(e),followingInProgress:ft(e)}}),{follow:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ue(a,e,v.followToUser.bind(v),ne);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ue(a,e,v.unfollowToUser.bind(v),re);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setInProgress:Ae,requestUsers:function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(r){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(ie(!0)),a.next=3,p(e,t);case 3:n=a.sent,r(ie(!1)),r(se(n.data.items)),r(ce(n.data.totalCount));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},requestMoreUsers:function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(r){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(ie(!0)),r(oe(e+1)),a.next=4,p(e+1,t);case 4:n=a.sent,r(ie(!1)),r((s=n.data.items,{type:X,usersss:s})),r(ce(n.data.totalCount));case 8:case"end":return a.stop()}var s}),a)})));return function(e){return a.apply(this,arguments)}}()},setCurrentPage:oe,setUsers:se,onPageChanged:function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(r){var n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(ie(!0)),r(oe(e)),a.next=4,p(e,t);case 4:n=a.sent,r(ie(!1)),r(se(n.data.items));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),nt)(Et),Ot=a(145),wt=a.n(Ot),Nt=a(6),jt=a.n(Nt),yt=function(e){var t=Object(r.useState)(!1),a=Object(At.a)(t,2),s=a[0],o=a[1],c=Object(r.useState)(e.status),i=Object(At.a)(c,2),A=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return n.a.createElement("div",null,!s&&n.a.createElement("div",null,n.a.createElement("span",{onClick:function(){e.isOwner&&o(!0)}},e.status||"...status")),s&&n.a.createElement("div",null,n.a.createElement("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(A)},value:A})))},St=a(128),Pt=a(93),kt=a(39),It=a.n(kt),Ut=a(127),xt=function(e){var t=e.input,a=e.meta,r=Object(Pt.a)(e,["input","meta"]),s=a.touched&&a.error;return n.a.createElement("div",{className:s&&It.a.formControls},n.a.createElement("div",null,n.a.createElement("textarea",Object.assign({},t,r))),n.a.createElement("div",null,s&&n.a.createElement("span",null," ",a.error," ")))},Tt=function(e){var t=e.input,a=e.meta,r=Object(Pt.a)(e,["input","meta"]),s=a.touched&&a.error;return n.a.createElement("div",{className:s&&It.a.formControls},n.a.createElement("div",null,n.a.createElement("input",Object.assign({},t,r))),n.a.createElement("div",null,s&&n.a.createElement("span",null," ",a.error," ")))},Dt=function(e,t,a,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return n.a.createElement("div",{className:It.a.field},n.a.createElement(Ut.a,Object.assign({placeholder:e,name:t,validate:a,component:r},s))," ",o)},Mt=Object(St.a)({form:"profileData"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement("table",null,n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},"FullName:"),n.a.createElement("td",{className:jt.a.value},Dt("Full name","fullName",[],Tt))),n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},"About me:"),n.a.createElement("td",{className:jt.a.value},Dt("About me","aboutMe",[],xt))),n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},"Looking for a job:"),n.a.createElement("td",{className:jt.a.value},Dt("Looking for a job","lookingForAJob",[],Tt,{type:"checkbox"}))),n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},"Professional skills:"),n.a.createElement("td",{className:jt.a.value},Dt("Professional skills","lookingForAJobDescription",[],xt))),n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},"Contacts:")),Object.keys(e.profile.contacts).map((function(e){return n.a.createElement("tr",{className:It.a.contacts},n.a.createElement("td",{className:jt.a.property},e,":"),n.a.createElement("td",{className:jt.a.value},Dt("","contacts."+e,[],Tt)," "))}))),e.error&&n.a.createElement("div",{className:It.a.error},e.error),n.a.createElement("button",{className:jt.a.btn},"save"))})),Ct=function(e){var t=e.contactTitle,a=e.contactValue;return n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},t),n.a.createElement("td",{className:jt.a.value},a))},Lt=function(e){var t=e.profile,a=e.isOwner,r=e.activateEditMode;return n.a.createElement("div",{className:jt.a.user__profile__information__container},n.a.createElement("table",{className:jt.a.user__profile__information__table},n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},"About me:"),n.a.createElement("td",{className:jt.a.value},t.aboutMe)),n.a.createElement("tr",{className:jt.a.user__profile__information__table__tread},n.a.createElement("td",{className:jt.a.property},"Looking for a job:"),n.a.createElement("td",{className:jt.a.value},t.lookingForAJob?"yes":"not")),n.a.createElement("tr",{className:jt.a.user__profile__information__table__tread},n.a.createElement("td",{className:jt.a.property},"Professional skills:"),n.a.createElement("td",{className:jt.a.value},t.lookingForAJobDescription)),n.a.createElement("tr",null,n.a.createElement("td",{className:jt.a.property},"Contacts:")),Object.keys(t.contacts).map((function(e){return n.a.createElement(Ct,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),n.a.createElement("div",null,a&&n.a.createElement("button",{onClick:r,className:jt.a.btn},"edit")))},Rt=function(e){var t=e.profile,a=e.isOwner,s=e.status,o=e.updateStatus,c=e.savePhoto,i=e.saveProfileData,A=e.currentUser,u=e.startChatting,l=Object(r.useState)(!1),p=Object(At.a)(l,2),m=p[0],_=p[1];if(!t)return n.a.createElement(et,null);return n.a.createElement("div",null,n.a.createElement("div",{className:jt.a.user__profile__title},n.a.createElement("div",{className:jt.a.user__profile__name},t.fullName),n.a.createElement(yt,{className:jt.a.user__profile__status,status:s,isOwner:a,updateStatus:o})),n.a.createElement("div",{className:jt.a.user__profile__container},n.a.createElement("div",{className:jt.a.user__profile__photo},n.a.createElement("img",{src:null!=t.photos.large?t.photos.large:qe.a,alt:"user photo"}),m&&n.a.createElement("div",null,n.a.createElement("input",{type:"file",name:"file",id:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])},className:jt.a.input__file}),n.a.createElement("label",{for:"file"},"Upload photo...")),!a&&n.a.createElement(Fe.b,{to:"/dialogs/".concat(A,"/messages")},n.a.createElement("button",{onClick:function(){return u(A)},className:jt.a.btn},"send message"))),n.a.createElement("div",{className:jt.a.user__profile__information},m?n.a.createElement(Mt,{initialValues:t,onSubmit:function(e){i(e).then((function(){_(!1)}))},profile:t}):n.a.createElement(Lt,{profile:t,isOwner:a,activateEditMode:function(){_(!0)}}))))},Ht=a(146),Gt=a.n(Ht),Ft=a(96),Jt=a.n(Ft),Bt=function(e){return n.a.createElement("div",{className:Jt.a.item},n.a.createElement("img",{src:"https://\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438-\u0434\u043b\u044f-\u0441\u0440\u0438\u0441\u043e\u0432\u043a\u0438.\u0440\u0444/image/cache/catalog/vse-kartinki/kosmonavt/kosmonavt-011-800x800.jpg"}),n.a.createElement("div",null,e.postText),n.a.createElement("span",{className:Jt.a.likes},"like ",e.likeCounter))},Qt=function(e){return e||"number"===typeof e?void 0:"Required"},Kt=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}},Wt=Kt(5),Yt=Object(St.a)({form:"post"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement("div",null,n.a.createElement(Ut.a,{name:"postText",component:xt,validate:[Qt,Wt]})),n.a.createElement("div",null,n.a.createElement("button",null,"send")))})),qt=function(e){var t=e.posts.map((function(e){return n.a.createElement(Bt,{postText:e.postText,likeCounter:e.likeCounter})}));return n.a.createElement("div",{className:Gt.a.content},n.a.createElement("h3",null,"My posts"),n.a.createElement("div",null,n.a.createElement(Yt,{onSubmit:function(t){e.addPost(t.postText)}})),t)},Zt=(Object(at.b)((function(e){return{posts:e.profilePage.posts,newTextInPost:e.profilePage.newTextInPost}}),{addPost:L})(qt),function(e){return n.a.createElement("div",{className:wt.a.content},n.a.createElement(Rt,{profile:e.profile,status:e.status,updateStatus:e.updateUserStatus,isOwner:e.isOwner,currentUser:e.currentUser,savePhoto:e.savePhoto,saveProfileData:e.saveProfileData,startChatting:e.startChatting}))}),Vt=function(e){function t(){return Object(Ce.a)(this,t),Object(Re.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Ge.a)(t,e),Object(Le.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentWillUnmount",value:function(){this.props.setUserProfile(null)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return n.a.createElement(Zt,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,currentUser:this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfileData:this.props.saveProfileData,setUserProfile:this.props.setUserProfile}))}}]),t}(n.a.Component),zt=Object(s.d)(Object(at.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{addPost:L,getUserProfile:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,a(R(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:r=t.sent,a(H(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:0===t.sent.data.resultCode&&a(H(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:0===(r=t.sent).data.resultCode&&a(G(r.data.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileData:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a,r){var n,s,o,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:if(0!==(n=t.sent).data.resultCode){t.next=12;break}return s=r().auth.id,t.next=8,d(s);case 8:o=t.sent,a(R(o)),t.next=16;break;case 12:return i=n.data.messages.length>0?n.data.messages[0]:"Oops",console.log(i),a(Object(P.b)("profileData",{_error:i})),t.abrupt("return",Promise.reject(i));case 16:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},startChatting:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserProfile:R}),Je.f,nt)(Vt),Xt=a(14),$t=a.n(Xt),ea=function(e){var t=Object(r.useState)(!1),a=Object(At.a)(t,2),s=a[0],o=a[1];return n.a.createElement("header",{className:$t.a.header},n.a.createElement("div",{className:$t.a.container},n.a.createElement("div",{className:$t.a.header__body},n.a.createElement("nav",{onTouchEnd:function(){return o(!s)},className:s?"".concat($t.a.header__menu," ").concat($t.a.active):$t.a.header__menu},n.a.createElement("ul",{className:$t.a.header__list},n.a.createElement(Fe.b,{to:"/profile",className:$t.a.header__link},n.a.createElement("li",null,"Profile")),n.a.createElement(Fe.b,{to:"/users",className:$t.a.header__link},n.a.createElement("li",null,"Users")),n.a.createElement(Fe.b,{to:"/dialogs",className:$t.a.header__link},n.a.createElement("li",null,"Dialogs ",e.newMessagesCount>0?e.newMessagesCount:"")))),n.a.createElement("div",{onClick:function(){return o(!s)},className:s?"".concat($t.a.header__burger," ").concat($t.a.active):$t.a.header__burger},n.a.createElement("span",null)),n.a.createElement("div",{className:$t.a.header__auth},e.isAuth?n.a.createElement("div",{className:$t.a.header__auth__info},n.a.createElement("div",{className:$t.a.header__auth__content},n.a.createElement(Fe.b,{to:"/profile"},n.a.createElement("div",{className:$t.a.header__auth__name},e.login)),n.a.createElement("div",{className:$t.a.header__auth__logout},n.a.createElement("span",{onClick:e.logout},"logout"))),n.a.createElement("div",{className:$t.a.header__auth__ava},n.a.createElement(Fe.b,{to:"/profile"},n.a.createElement("img",{src:null!=e.photo?e.photo:qe.a,alt:"photo"})))):n.a.createElement("div",{className:$t.a.header__auth__login},n.a.createElement(Fe.b,{className:$t.a.header__login,to:"/login"},"LOGIN"))))))},ta=function(e){function t(){return Object(Ce.a)(this,t),Object(Re.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Ge.a)(t,e),Object(Le.a)(t,[{key:"render",value:function(){return n.a.createElement(ea,this.props)}}]),t}(n.a.Component),aa=Object(at.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,photo:e.auth.photo,newMessagesCount:e.dialogsPage.newMessagesCount}}),{getAuthUserData:ve,logout:function(){return function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:0===e.sent.data.resultCode&&t(ge(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ta),ra=a(35),na=a.n(ra),sa=Object(St.a)({form:"login"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement("div",{className:na.a.form__group},n.a.createElement("div",{className:na.a.form__field},Dt("Email","email",[Qt],Tt)),n.a.createElement("label",{className:na.a.form__label})),n.a.createElement("div",{className:na.a.form__group},n.a.createElement("div",{className:na.a.form__field},Dt("Password","password",[Qt],Tt,{type:"password"})),n.a.createElement("label",{className:na.a.form__label})),e.captcha&&n.a.createElement("img",{src:e.captcha}),e.captcha&&n.a.createElement("div",null,Dt("captcha","captcha",[Qt],Tt)),e.error&&n.a.createElement("div",{className:It.a.error},e.error),n.a.createElement("div",null,n.a.createElement("button",{onTouchEnd:e.handleSubmit,className:na.a.form__button},"Log in")))})),oa=Object(at.b)((function(e){return{isAuth:e.auth.isAuth,captcha:e.auth.captcha}}),{login:function(e,t,a,r){return function(){var n=Object(i.a)(c.a.mark((function n(s){var o,i;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_(e,t,a,r);case 2:0===(o=n.sent).data.resultCode?s(ve()):(10===o.data.resultCode&&s(Oe()),i=o.data.messages.length>0?o.data.messages[0]:"Oops",s(Object(P.b)("login",{_error:i})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?n.a.createElement(Je.a,{to:"/profile"}):n.a.createElement("div",{className:na.a.form__wrapper},n.a.createElement("div",{className:na.a.form},n.a.createElement("h3",{className:na.a.form__title},"LOGIN"),n.a.createElement(sa,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captcha:e.captcha})))})),ca=a(148),ia=function(e){var t=e.userName,a=e.messageText,r=e.addedAt;return n.a.createElement("div",{className:Qe.a.message__container},n.a.createElement("div",{className:Qe.a.message__wrapper},n.a.createElement("div",{className:Qe.a.message__user__name},t,":"),n.a.createElement("div",{className:Qe.a.message__text},a)),n.a.createElement("div",{className:Qe.a.message__add__time},Object(ca.a)(r,{addSuffix:!0})))},Aa=(Kt(300),Object(St.a)({form:"message"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:Qe.a.message__form},n.a.createElement("div",{className:Qe.a.message__send__button},n.a.createElement("button",{type:"submit"},"send")),n.a.createElement("div",{className:Qe.a.message__field},n.a.createElement(Ut.a,{name:"message",component:xt,autocompele:"off",cols:"200"})))}))),ua=a(147),la=a.n(ua),pa=a(149),ma=function(e){var t=e.messages.map((function(e){return console.log(e.addedAt),n.a.createElement(ia,{userName:e.senderName,userId:e.senderId,messageText:e.body,key:e.id,addedAt:Object(pa.a)(e.addedAt)})}));return n.a.createElement("div",{className:Qe.a.messages__container},n.a.createElement("div",{className:Qe.a.back__btn},n.a.createElement(Fe.b,{to:"/dialogs"}," ",n.a.createElement("img",{src:la.a})," back to dialogs")),n.a.createElement("div",{className:Qe.a.messages__box},t),n.a.createElement("div",{className:Qe.a.message__form},n.a.createElement(Aa,{onSubmit:function(t){e.sendMessage(e.currentUser,t.message)}})))},_a=function(e){function t(){return Object(Ce.a)(this,t),Object(Re.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Ge.a)(t,e),Object(Le.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.requestMessages(e)}},{key:"componentWillUnmount",value:function(){this.props.setMessages("")}},{key:"render",value:function(){return n.a.createElement(ma,{messages:this.props.messages,sendMessage:this.props.sendNewMessage,currentUser:this.props.currentUser})}}]),t}(n.a.Component),fa=Object(s.d)(Object(at.b)((function(e){return{messages:e.dialogsPage.messages,currentUser:e.dialogsPage.currentUser,newMessageText:e.dialogsPage.newMessageText}}),{requestMessages:function(e){return function(){var t=Object(i.a)(c.a.mark((function t(a){var r,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET_CURRENT_USER",user:e}),t.next=3,j(e);case 3:r=t.sent,n=r.data.items,a(K(n));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sendNewMessage:function(e,t){return function(){var a=Object(i.a)(c.a.mark((function a(r){var n,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y(e,t);case 2:if(0!==a.sent.data.resultCode){a.next=10;break}return a.next=6,j(e);case 6:n=a.sent,s=n.data.items,r(K(s)),r(Object(P.a)("message"));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setMessages:K}),Je.f,nt)(_a),da=function(e){function t(){return Object(Ce.a)(this,t),Object(Re.a)(this,Object(He.a)(t).apply(this,arguments))}return Object(Ge.a)(t,e),Object(Le.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){var e=this;return this.props.initialized?n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"app__header"},n.a.createElement(aa,null)),n.a.createElement("div",{className:"app__content"},n.a.createElement("div",{className:"app__content__container"},n.a.createElement(Je.b,{exact:!0,path:"/",render:function(){return n.a.createElement(Je.a,{to:"/profile"})}}),n.a.createElement(Je.b,{path:"/profile/:userId?",render:function(){return n.a.createElement(zt,null)}}),n.a.createElement(Je.b,{exact:!0,path:"/dialogs",render:function(){return n.a.createElement(ot,null)}}),n.a.createElement(Je.b,{path:"/dialogs/:userId/messages",render:function(){return n.a.createElement(fa,null)}}),n.a.createElement(Je.b,{path:"/users",render:function(){return n.a.createElement(vt,null)}}),n.a.createElement(Je.b,{path:"/login",render:function(){return n.a.createElement(oa,{store:e.props.store})}})))):n.a.createElement(et,null)}}]),t}(n.a.Component),ha=Object(at.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(ve());Promise.all([t]).then((function(){e({type:"SET_INITIALIZED"})}))}}})(da);Me.a.render(n.a.createElement(Fe.a,null,n.a.createElement(at.a,{store:Te},n.a.createElement(ha,null))),document.getElementById("root"))},35:function(e,t,a){e.exports={form__wrapper:"Login_form__wrapper__2MPi8",form:"Login_form__26gmI",form__field:"Login_form__field__2aXkl",form__button:"Login_form__button__3A7nR",form__title:"Login_form__title__2jCYY",form__group:"Login_form__group__1-pG-",form__label:"Login_form__label__3zrrh"}},39:function(e,t,a){e.exports={formControls:"FormControls_formControls__2HFFk",formControls__error_text:"FormControls_formControls__error_text__1uT77",error:"FormControls_error__1nBJP",field:"FormControls_field__12HGc"}},43:function(e,t,a){e.exports=a.p+"static/media/man.5a9e9877.svg"},6:function(e,t,a){e.exports={user__profile__title:"ProfileInfo_user__profile__title__396i9",user__profile__name:"ProfileInfo_user__profile__name__2fDb3",user__profile__status:"ProfileInfo_user__profile__status__2qvr1",user__profile__container:"ProfileInfo_user__profile__container__1Fsf-",btn:"ProfileInfo_btn__1TYJJ",user__profile__photo:"ProfileInfo_user__profile__photo__2qd9u",user__profile__information__container:"ProfileInfo_user__profile__information__container__3zIpr",user__profile__information__table:"ProfileInfo_user__profile__information__table__2b3pj",property:"ProfileInfo_property__qXMIS",value:"ProfileInfo_value__3kYjG",input__file:"ProfileInfo_input__file__3P00C"}},74:function(e,t,a){e.exports={paginator:"Pagination_paginator__3SteA",pageNumber:"Pagination_pageNumber__CkXXa",selectedPage:"Pagination_selectedPage__2YUGW"}},96:function(e,t,a){e.exports={item:"Post_item__3Rar_",likes:"Post_likes__8GrEf"}}},[[176,1,2]]]);
//# sourceMappingURL=main.4d184e7b.chunk.js.map